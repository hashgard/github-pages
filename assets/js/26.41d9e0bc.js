(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{192:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"hashgard-创世状态（genesis-state）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hashgard-创世状态（genesis-state）","aria-hidden":"true"}},[t._v("#")]),t._v(" Hashgard 创世状态（Genesis State）")]),t._v(" "),n("p",[t._v("Hashgard 创世状态"),n("code",[t._v("GenesisState")]),t._v("由账户、各种模块状态和元数据组成，例如创世交易。\n每个模块可以指定自己的"),n("code",[t._v("GenesisState")]),t._v("。 此外，每个模块可以指定自己的创世状态有效性验证、导入和导出功能。")]),t._v(" "),n("p",[t._v("Hashgard 创世状态定义如下：")]),t._v(" "),n("div",{staticClass:"language-go extra-class"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" GenesisState "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Accounts     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("GenesisAccount      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"accounts"`')]),t._v("\n  AuthData     auth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenesisState     "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"auth"`')]),t._v("\n  BankData     bank"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenesisState     "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"bank"`')]),t._v("\n  StakingData  staking"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenesisState  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"staking"`')]),t._v("\n  MintData     mint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenesisState     "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"mint"`')]),t._v("\n  DistrData    distr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenesisState    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"distribution"`')]),t._v("\n  GovData      gov"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenesisState      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"gov"`')]),t._v("\n  SlashingData slashing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenesisState "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"slashing"`')]),t._v("\n  GenTxs       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("json"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RawMessage     "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"gentxs"`')]),t._v("\n  ContractData "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("ContractInfo        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"deployed_contracts"`')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("在 Hashgard 的 ABCI"),n("code",[t._v("initChainer")]),t._v("定义中调用"),n("code",[t._v("initFromGenesisState")]),t._v("，\n它在内部调用每个模块的"),n("code",[t._v("InitGenesis")]),t._v("，提供它自己的"),n("code",[t._v("GenesisState")]),t._v("作为参数。")]),t._v(" "),n("h2",{attrs:{id:"账户（accounts）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#账户（accounts）","aria-hidden":"true"}},[t._v("#")]),t._v(" 账户（Accounts）")]),t._v(" "),n("p",[n("code",[t._v("GenesisState")]),t._v(" 中的创世账户定义如下：")]),t._v(" "),n("div",{staticClass:"language-go extra-class"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" GenesisAccount "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Address       sdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AccAddress "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"address"`')]),t._v("\n  Coins         sdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Coins      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"coins"`')]),t._v("\n  Sequence      "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint64")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"sequence_number"`')]),t._v("\n  AccountNumber "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint64")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"account_number"`')]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vesting account fields")]),t._v("\n  OriginalVesting  sdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Coins "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"original_vesting"`')]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// total vesting coins upon initialization")]),t._v("\n  DelegatedFree    sdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Coins "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"delegated_free"`')]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// delegated vested coins at time of delegation")]),t._v("\n  DelegatedVesting sdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Coins "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"delegated_vesting"`')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// delegated vesting coins at time of delegation")]),t._v("\n  StartTime        "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"start_time"`')]),t._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vesting start time (UNIX Epoch time)")]),t._v("\n  EndTime          "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"end_time"`')]),t._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vesting end time (UNIX Epoch time)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("除序列号（nonce）和地址外，每个帐户还必须具有有效且唯一的账户编号。")]),t._v(" "),n("p",[t._v("账户也可能锁仓，此时他们必须提供必要的锁仓信息，锁仓帐户必须至少提供"),n("code",[t._v("OriginalVesting")]),t._v("和"),n("code",[t._v("EndTime")]),t._v("。\n如果还提供了"),n("code",[t._v("StartTime")]),t._v("，则该帐户将被视为“连续”锁仓帐户，其中按预定义的时间表锁仓 coins。\n提供的"),n("code",[t._v("StartTime")]),t._v("必须小于"),n("code",[t._v("EndTime")]),t._v("，但可能是未来的时间。 换句话说，它不必等于创世时间。\n在从新状态（未导出）开始的新链中，"),n("code",[t._v("OriginalVesting")]),t._v("必须小于或等于"),n("code",[t._v("Coins")]),t._v("。")])])}],!1,null,null,null);s.default=e.exports}}]);