<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>在测试网上运行一个验证人 | Hashgard 文档中心</title>
    <meta name="description" content="Hashgard - 新一代数字金融公有链">
    <link rel="icon" href="/github-pages/favicon.ico">
    
    <link rel="preload" href="/github-pages/assets/css/0.styles.b9164be3.css" as="style"><link rel="preload" href="/github-pages/assets/js/app.bf5dd73f.js" as="script"><link rel="preload" href="/github-pages/assets/js/35.851f6478.js" as="script"><link rel="prefetch" href="/github-pages/assets/js/10.66d8a0a0.js"><link rel="prefetch" href="/github-pages/assets/js/11.8393ad55.js"><link rel="prefetch" href="/github-pages/assets/js/12.2ccfd939.js"><link rel="prefetch" href="/github-pages/assets/js/13.a1e900b1.js"><link rel="prefetch" href="/github-pages/assets/js/14.5371c486.js"><link rel="prefetch" href="/github-pages/assets/js/15.a9ccdc54.js"><link rel="prefetch" href="/github-pages/assets/js/16.3e94299c.js"><link rel="prefetch" href="/github-pages/assets/js/17.ede0b19c.js"><link rel="prefetch" href="/github-pages/assets/js/18.3af42029.js"><link rel="prefetch" href="/github-pages/assets/js/19.a2d187e3.js"><link rel="prefetch" href="/github-pages/assets/js/2.142e358d.js"><link rel="prefetch" href="/github-pages/assets/js/20.b8d36e32.js"><link rel="prefetch" href="/github-pages/assets/js/21.205c43c0.js"><link rel="prefetch" href="/github-pages/assets/js/22.286073fa.js"><link rel="prefetch" href="/github-pages/assets/js/23.efc1cb0e.js"><link rel="prefetch" href="/github-pages/assets/js/24.2dfe9c4e.js"><link rel="prefetch" href="/github-pages/assets/js/25.d087c3a9.js"><link rel="prefetch" href="/github-pages/assets/js/26.41d9e0bc.js"><link rel="prefetch" href="/github-pages/assets/js/27.3cf1115d.js"><link rel="prefetch" href="/github-pages/assets/js/28.79a6a4bc.js"><link rel="prefetch" href="/github-pages/assets/js/29.bd1647a7.js"><link rel="prefetch" href="/github-pages/assets/js/3.89cb87cc.js"><link rel="prefetch" href="/github-pages/assets/js/30.6ac3d706.js"><link rel="prefetch" href="/github-pages/assets/js/31.02ff2623.js"><link rel="prefetch" href="/github-pages/assets/js/32.fb021007.js"><link rel="prefetch" href="/github-pages/assets/js/33.667cd9de.js"><link rel="prefetch" href="/github-pages/assets/js/34.a48306a7.js"><link rel="prefetch" href="/github-pages/assets/js/36.74cda06d.js"><link rel="prefetch" href="/github-pages/assets/js/37.ea2a4a80.js"><link rel="prefetch" href="/github-pages/assets/js/38.c5aa82e0.js"><link rel="prefetch" href="/github-pages/assets/js/39.88839b3f.js"><link rel="prefetch" href="/github-pages/assets/js/4.46e45bad.js"><link rel="prefetch" href="/github-pages/assets/js/40.c7efa84e.js"><link rel="prefetch" href="/github-pages/assets/js/41.e6bd18b4.js"><link rel="prefetch" href="/github-pages/assets/js/42.1b3526ab.js"><link rel="prefetch" href="/github-pages/assets/js/43.bdff1f53.js"><link rel="prefetch" href="/github-pages/assets/js/44.c49a7c9a.js"><link rel="prefetch" href="/github-pages/assets/js/45.107ae8d1.js"><link rel="prefetch" href="/github-pages/assets/js/46.9f6183cf.js"><link rel="prefetch" href="/github-pages/assets/js/47.2662ebc5.js"><link rel="prefetch" href="/github-pages/assets/js/48.24949fb1.js"><link rel="prefetch" href="/github-pages/assets/js/49.90dc2b11.js"><link rel="prefetch" href="/github-pages/assets/js/5.1c9843c5.js"><link rel="prefetch" href="/github-pages/assets/js/50.2922ec7c.js"><link rel="prefetch" href="/github-pages/assets/js/51.dbff27f4.js"><link rel="prefetch" href="/github-pages/assets/js/52.c10ce7e1.js"><link rel="prefetch" href="/github-pages/assets/js/53.d08b6929.js"><link rel="prefetch" href="/github-pages/assets/js/54.201ebb77.js"><link rel="prefetch" href="/github-pages/assets/js/55.a9ff3e03.js"><link rel="prefetch" href="/github-pages/assets/js/56.75632402.js"><link rel="prefetch" href="/github-pages/assets/js/57.24c019ec.js"><link rel="prefetch" href="/github-pages/assets/js/58.74fd37d5.js"><link rel="prefetch" href="/github-pages/assets/js/59.306e59ce.js"><link rel="prefetch" href="/github-pages/assets/js/6.91a869c6.js"><link rel="prefetch" href="/github-pages/assets/js/7.9242222d.js"><link rel="prefetch" href="/github-pages/assets/js/8.49613224.js"><link rel="prefetch" href="/github-pages/assets/js/9.f4880d52.js">
    <link rel="stylesheet" href="/github-pages/assets/css/0.styles.b9164be3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/github-pages/" class="home-link router-link-active"><!----> <span class="site-name">Hashgard 文档中心</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/github-pages/translations/cn/what-is-hashgard.html" class="nav-link">教程</a></div><div class="nav-item"><a href="/github-pages/translations/cn/hashgardcli.html" class="nav-link">命令</a></div> <a href="https://github.com/hashgard/github-pages" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/github-pages/translations/cn/what-is-hashgard.html" class="nav-link">教程</a></div><div class="nav-item"><a href="/github-pages/translations/cn/hashgardcli.html" class="nav-link">命令</a></div> <a href="https://github.com/hashgard/github-pages" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>总览</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/github-pages/translations/cn/what-is-hashgard.html" class="sidebar-link">Hashgard是什么</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>教程</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="在测试网上运行一个验证人"><a href="#在测试网上运行一个验证人" aria-hidden="true" class="header-anchor">#</a> 在测试网上运行一个验证人</h1> <blockquote><p>提示</p> <p>加入主网所需的信息(<code>genesis.json</code>和种子节点)在<a href="https://github.com/cosmos/launch/tree/master/latest" target="_blank" rel="noopener noreferrer"><code>testnets</code> repo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中可以找到。</p></blockquote> <p>在启动你验证人节点前，确定你已经完成了<a href="/github-pages/translations/cn/join-testnet.html">启动全节点</a>教程。</p> <h2 id="什么是验证人"><a href="#什么是验证人" aria-hidden="true" class="header-anchor">#</a> 什么是验证人?</h2> <p><a href="/github-pages/translations/cn/validators/overview.html">验证人</a>负责通过投票来向区块链提交新区块。如果验证人不可访问或者对多个相同高度的区块签名，将会遭受到削减处罚。</p> <p>请阅读有关Sentry节点架构的信息，以保护您的节点免受DDOS攻击并确保高可用性。请阅读<a href="/github-pages/translations/cn/validators/security.html">哨兵节点网络架构</a>来保护你的节点免于DDOS攻击并保证高的可访问性。</p> <blockquote><p>警告</p> <p>如果你想要成为 Hashgard 网络的验证人，你应该考虑<a href="/github-pages/translations/cn/validators/security.html">节点安全</a>。</p></blockquote> <p>如果你已经<a href="/github-pages/translations/cn/join-testnet.html">启动了一个全节点</a>，可以跳过下一节的内容。</p> <h2 id="创建你的验证人"><a href="#创建你的验证人" aria-hidden="true" class="header-anchor">#</a> 创建你的验证人</h2> <p>你的<code>gardvalconspub</code>可以用于通过抵押token来创建一个新的验证人。你可以通过运行下面的命令来查看你的验证人公钥：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgard tendermint show-validator
</code></pre></div><p>使用下面的命令创建你的验证人：</p> <blockquote><p>注意</p> <p>不要使用多于你所拥有的<code>gard</code>!</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgardcli tx staking create-validator <span class="token punctuation">\</span>
  --amount<span class="token operator">=</span>1000000gard <span class="token punctuation">\</span>
  --pubkey<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>hashgard tendermint show-validator<span class="token variable">)</span></span> <span class="token punctuation">\</span>
  --moniker<span class="token operator">=</span><span class="token string">&quot;choose a moniker&quot;</span> <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain_id<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --commission-rate<span class="token operator">=</span><span class="token string">&quot;0.10&quot;</span> <span class="token punctuation">\</span>
  --commission-max-rate<span class="token operator">=</span><span class="token string">&quot;0.20&quot;</span> <span class="token punctuation">\</span>
  --commission-max-change-rate<span class="token operator">=</span><span class="token string">&quot;0.01&quot;</span> <span class="token punctuation">\</span>
  --min-self-delegation<span class="token operator">=</span><span class="token string">&quot;1&quot;</span> <span class="token punctuation">\</span>
  --from<span class="token operator">=</span><span class="token operator">&lt;</span>key_name<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>提示</p> <p>在指定commission参数时，<code>commission-max-change-rate</code>用于度量<code>commission-rate</code>的百分比点数的变化。
比如，1%到2%增长了100%，但反映到<code>commission-rate</code>上只有1个百分点。</p> <p>如果没有指定，<code>consensus_pubkey</code>将默认为<code>hashgard tendermint show-validator</code>命令的输出。
<code>key_name</code>是将用于对交易进行签名的私钥的名称。</p></blockquote> <p>你可以在区块链浏览器<a href="https://gardplorer.io" target="_blank" rel="noopener noreferrer">gardplorer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上确定你是否处于验证人行列。</p> <h2 id="以初始验证人的形式加入到genesis文件"><a href="#以初始验证人的形式加入到genesis文件" aria-hidden="true" class="header-anchor">#</a> 以初始验证人的形式加入到genesis文件</h2> <blockquote><p>警告</p> <p>这一节内容只针对想要在测试网启动前就作为初始验证人身份的节点。如果测试网已经启动，请跳过这一节。</p></blockquote> <p>如果你想作为初始验证人被写入到genesis.json文件，你需要证明你在创世状态中有一些权益代币，创建一个（或多个）交易以将股权与你的验证人地址联系起来，并将此交易包含在genesis文件中。</p> <p>你的<code>gardvalconspub</code>可以用于通过抵押token来创建一个新的验证人。运行如下命令来获取你的验证人节点公钥：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgard tendermint show-validator
</code></pre></div><p>然后执行<code>hashgard gentx</code>命令:</p> <blockquote><p>提示</p> <p><code>gentx</code>是持有self-delegation的JSON文件。所有的创世交易会被<code>创世协调员</code>收集起来验证并初始化成一个<code>genesis.json</code></p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgard gentx <span class="token punctuation">\</span>
  --amount <span class="token operator">&lt;</span>amount_of_delegation_agard<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --commission-rate <span class="token operator">&lt;</span>commission_rate<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --commission-max-rate <span class="token operator">&lt;</span>commission_max_rate<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --commission-max-change-rate <span class="token operator">&lt;</span>commission_max_change_rate<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --pubkey <span class="token operator">&lt;</span>consensus_pubkey<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --name <span class="token operator">&lt;</span>key_name<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>提示</p> <p>不要使用多于你所拥有的<code>gard</code>!</p> <p>在指定commission参数时，<code>commission-max-change-rate</code>用于度量<code>commission-rate</code>的百分比点数的变化。
比如，1%到2%增长了100%，但反映到<code>commission-rate</code>上只有1个百分点。</p></blockquote> <p>你可以提交你的<code>gentx</code>到<a href="https://github.com/hashgard/testnets" target="_blank" rel="noopener noreferrer">testnets repo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. 这些<code>gentx</code>将会组成最终的genesis.json.</p> <h2 id="编辑验证人的描述信息"><a href="#编辑验证人的描述信息" aria-hidden="true" class="header-anchor">#</a> 编辑验证人的描述信息</h2> <p>你可以编辑验证人的公开说明。此信息用于标识你的验证人节点，委托人将根据此信息来决定要委托的验证人节点。
确保为下面的每个标识提供输入，否则该字段将默认为空（<code>--moniker</code>默认为机器名称）。</p> <p>&lt;key_name&gt;指定你要编辑的验证人。如果你选择不包含此标识，记住必须要含有--from标识来指定你要更新的验证人。</p> <p><code>--identity</code>可用于验证和Keybase或UPort这样的系统一起验证身份。
与Keybase一起使用时，<code>--identity</code>应使用由一个<a href="https://keybase.io/" target="_blank" rel="noopener noreferrer">keybase.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>帐户生成的16位字符串。
它是一种加密安全的方法，可以跨多个在线网络验证您的身份。 Keybase API允许我们检索你的Keybase头像。
这是你可以在验证人配置文件中添加徽标的方法。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgardcli tx staking edit-validator
  --moniker<span class="token operator">=</span><span class="token string">&quot;choose a moniker&quot;</span> <span class="token punctuation">\</span>
  --website<span class="token operator">=</span><span class="token string">&quot;https://cosmos.network&quot;</span> <span class="token punctuation">\</span>
  --identity<span class="token operator">=</span>6A0D65E29A4CBC8E <span class="token punctuation">\</span>
  --details<span class="token operator">=</span><span class="token string">&quot;To infinity and beyond!&quot;</span> <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain_id<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --from<span class="token operator">=</span><span class="token operator">&lt;</span>key_name<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --commission-rate<span class="token operator">=</span><span class="token string">&quot;0.10&quot;</span>
</code></pre></div><p><strong>注意</strong> : <code>commission-rate</code>的值必须符合如下的不变量检查：</p> <ul><li>必须在 0 和 验证人的<code>commission-max-rate</code> 之间</li> <li>不得超过 验证人的<code>commission-max-change-rate</code>, 该参数标识<strong>每日</strong>最大的百分点变化数。
也就是，一个验证人在<code>commission-max-change-rate</code>的界限内每日一次可调整的最大佣金变化。</li></ul> <h2 id="查看验证人的描述信息"><a href="#查看验证人的描述信息" aria-hidden="true" class="header-anchor">#</a> 查看验证人的描述信息</h2> <p>通过该命令查看验证人的描述信息:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgardcli query staking validator <span class="token operator">&lt;</span>account_hashgard<span class="token operator">&gt;</span>
</code></pre></div><h2 id="跟踪验证人的签名信息"><a href="#跟踪验证人的签名信息" aria-hidden="true" class="header-anchor">#</a> 跟踪验证人的签名信息</h2> <p>你可以通过<code>signing-info</code>命令跟踪过往的验证人签名：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgardcli query slashing signing-info <span class="token operator">&lt;</span>validator-pubkey<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain_id<span class="token operator">&gt;</span>
</code></pre></div><h2 id="unjail验证人"><a href="#unjail验证人" aria-hidden="true" class="header-anchor">#</a> unjail验证人</h2> <p>当验证人因停机而&quot;jailed&quot;(入狱)时，你必须用节点操作人帐户提交一笔<code>Unjail</code>交易，
使其再次能够获得区块提交的奖励（奖励多少取决于分区的fee分配）。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgardcli tx slashing unjail <span class="token punctuation">\</span>
	--from<span class="token operator">=</span><span class="token operator">&lt;</span>key_name<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
	--chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain_id<span class="token operator">&gt;</span>
</code></pre></div><h2 id="确认你的验证人节点正在运行"><a href="#确认你的验证人节点正在运行" aria-hidden="true" class="header-anchor">#</a> 确认你的验证人节点正在运行</h2> <p>如果下面的命令返回有内容就证明你的验证人正处于活跃状态:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgardcli query tendermint-validator-set <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>hashgard tendermint show-validator<span class="token variable">)</span></span>&quot;</span>
</code></pre></div><p>你必须要在<a href="https://gardplorer.io/validators" target="_blank" rel="noopener noreferrer">https://gardplorer.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中看见你的验证人节点信息。
你可以在<code>~/.hashgard/config/priv_validator.json</code>文件中找到<code>bech32</code>编码格式的<code>address</code>。</p> <blockquote><p>注意</p> <p>为了能进入验证人集合，你的权重必须超过第100名的验证人。</p></blockquote> <h2 id="常见问题"><a href="#常见问题" aria-hidden="true" class="header-anchor">#</a> 常见问题</h2> <h3 id="问题-1-我的验证人的voting-power-0"><a href="#问题-1-我的验证人的voting-power-0" aria-hidden="true" class="header-anchor">#</a> 问题 #1 : 我的验证人的<code>voting_power: 0</code></h3> <p>你的验证人已经是jailed状态。如果验证人在最近<code>10000</code>个区块中有超过<code>500</code>个区块没有进行投票，或者被发现双签，就会被jail掉。</p> <p>如果被因为掉线而遭到jail，你可以重获你的投票股权以重回验证人队伍。首先，如果<code>hashgard</code>没有运行，请再次启动：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgard start
</code></pre></div><p>等待你的全节点追赶上最新的区块高度。然后，运行如下命令。接着，你可以<a href>unjail你的验证人</a>。</p> <p>最后，检查你的验证人看看投票股权是否恢复：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hashgardcli status
</code></pre></div><p>你可能会注意到你的投票权比之前要少。这是由于你的下线受到的削减处罚！</p> <h3 id="问题-2-我的hashgard由于too-many-open-files而崩溃"><a href="#问题-2-我的hashgard由于too-many-open-files而崩溃" aria-hidden="true" class="header-anchor">#</a> 问题 #2 : 我的<code>hashgard</code>由于<code>too many open files</code>而崩溃</h3> <p>Linux可以打开的默认文件数（每个进程）是1024。已知<code>hashgard</code>可以打开超过1024个文件。这会导致进程崩溃。
快速修复运行<code>ulimit -n 4096</code>（增加允许的打开文件数）来快速修复，然后使用<code>hashgard start</code>重新启动进程。
如果你使用<code>systemd</code>或其他进程管理器来启动<code>hashgard</code>，则可能需要在该级别进行一些配置。</p> <p>解决此问题的示例<code>systemd</code>文件如下：</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token comment"># /etc/systemd/system/hashgard.service</span>
<span class="token punctuation">[</span><span class="token table class-name">Unit</span><span class="token punctuation">]</span>
<span class="token key property">Description</span><span class="token punctuation">=</span>Cosmos Hashgard Node
<span class="token key property">After</span><span class="token punctuation">=</span>network<span class="token punctuation">.</span>target

<span class="token punctuation">[</span><span class="token table class-name">Service</span><span class="token punctuation">]</span>
<span class="token key property">Type</span><span class="token punctuation">=</span>simple
<span class="token key property">User</span><span class="token punctuation">=</span>ubuntu
<span class="token key property">WorkingDirectory</span><span class="token punctuation">=</span>/home/ubuntu
<span class="token key property">ExecStart</span><span class="token punctuation">=</span>/home/ubuntu/go/bin/hashgard start
<span class="token key property">Restart</span><span class="token punctuation">=</span>on-failure
<span class="token key property">RestartSec</span><span class="token punctuation">=</span><span class="token number">3</span>
<span class="token key property">LimitNOFILE</span><span class="token punctuation">=</span><span class="token number">4096</span>

<span class="token punctuation">[</span><span class="token table class-name">Install</span><span class="token punctuation">]</span>
<span class="token key property">WantedBy</span><span class="token punctuation">=</span>multi-user<span class="token punctuation">.</span>target
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/25/2019, 6:32:56 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/github-pages/assets/js/app.bf5dd73f.js" defer></script><script src="/github-pages/assets/js/35.851f6478.js" defer></script>
  </body>
</html>
